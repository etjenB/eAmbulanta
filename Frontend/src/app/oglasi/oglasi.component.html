<div class="content-wrapper" style="min-height: 2080.4px;">
  <section class="content-header">
    <h1 class="heading">
      Oglasi
    </h1>
  </section>

  <section class="content">

  <button *ngIf="this.authService.isAdministrator()" (click)="dodajOglasForm()" id="btnDodajOglas" type="button" class="btn btn-block bg-gradient-primary" style="background-color: #164e8c; max-width: 200px; display: block">Dodaj oglas
    </button>
    <div *ngIf="this.authService.isAdministrator()"  id="divNoviOglas" class="container-fluid" style="display: none">
      <div class="card card-primary">
        <div class="card-header" style="background-color: #164e8c;">
          <h3 class="card-title" style="float: left;">Novi oglas</h3>
          <button type="button" (click)="dodajOglasForm()" class="btn btn-block btn-danger btn-sm" style="float: right; width: 30px; margin-top: 0">
            <i class="fa fa-times" aria-hidden="true"></i>
          </button>
        </div>
        <form>
          <div class="card-body">
            <div class="form-group" id="txtAreaNazivDiv">
              <label style="margin-right: 1%">Naziv</label>
              <input type="text" style="width: 100%">
            </div>
            <div class="form-group" id="txtAreaSadrzajDiv">
              <label>Sadrzaj</label>
              <textarea class="form-control" rows="3" placeholder="Sadrzaj..." id="txtSadrzaj" style="border: grey 1px solid"></textarea>
            </div>
          </div>
          <div class="card-footer">
            <button (click)="dodajNoviOglas()" id="btnDodajOglasUpload" type="button" class="btn btn-block btn-primary btn-sm" style="width: 20%; float: left; background-color: #164e8c;">Dodaj</button>
          </div>
        </form>
      </div>
    </div>
    <br>
    <div class="card">
      <div class="card-header" style="background-color: #164e8c; color: white">
        <h3 class="card-title">Tabela oglasa</h3>
      </div>

      <div class="card-body p-0">
        <table class="table table-sm" id="tabelaOglasi">
          <tbody>
          <tr *ngFor="let oglas of Oglasi; let indexOfRow = index;" style="float: left; padding: 1%; width: 100%; margin-top: 1%; border-bottom: #d4dbd2 1px solid">
              <div class="card card-primary collapsed-card">
                <div class="card-header">
                  <h3 class="card-title">{{oglas.naziv}}</h3>
                  <input *ngIf="this.authService.isAdministrator()" (change)="promjenaBrdrNzv(indexOfRow)" type="text" hidden style="width: 100%" value="{{oglas.naziv}}">
                  <div class="card-tools">
                    <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-expand"></i>
                    </button>
                  </div>
                </div>
                <div class="card-body" style="display: none;">
                  <textarea (change)="promjenaBrdrSadrzaj(indexOfRow)" disabled style="width: 100%; height: 90%">{{oglas.sadrzaj}}</textarea>
                  <br>
                  <button *ngIf="this.authService.isAdministrator()" (click)="uredjivanjeOglasa(indexOfRow, oglas)" type="button" class="btn btn-block btn-info btn-lg" style="float: left; margin-top: 1%; width: 18%; min-width: fit-content; height: 48px">Uredi</button>
                  <button *ngIf="this.authService.isAdministrator()" hidden (click)="odbaciPromjene(indexOfRow, oglas)" type="button" class="btn btn-block btn-danger btn-flat" style="float: left; margin-top: 1%; margin-right: 1%; width: 18%; min-width: fit-content; height: 48px ">Odbaci promjene</button>
                  <button *ngIf="this.authService.isAdministrator()" hidden (click)="spremiPromjene(indexOfRow, oglas)" type="button" class="btn btn-block btn-success btn-flat" style="float: left; margin-top: 1%; width: 18%; min-width: fit-content; height: 48px ">Spremi</button>
                </div>
              </div>
            <button *ngIf="this.authService.isAdministrator()" (click)="deleteOglasPozovi(oglas.id)" type="button" class="btn btn-block btn-danger btn-lg" style="float: left; width: 18%; margin-left: 1%; margin-bottom: 1%; min-width: fit-content; height: 48px; margin-top: 0;">Obri≈°i</button>
          </tr>
          </tbody>
        </table>
      </div>

    </div>

  </section>
</div>
